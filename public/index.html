<!------------------------------>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:fb="http://ogp.me/ns/fb#">

<head>
    <script src="https://browser.sentry-cdn.com/5.15.4/bundle.min.js"
        integrity="sha384-Nrg+xiw+qRl3grVrxJtWazjeZmUwoSt0FAVsbthlJ5OMpx0G08bqIq3b/v0hPjhB"
        crossorigin="anonymous"></script>
    <!-- Global Site Tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-107477273-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments)
        };
        gtag('js', new Date());

        gtag('config', 'UA-107477273-1');
    </script>

    <link rel="stylesheet" type="text/css" href="font-awesome.css"/>

    <title>Quran Lights</title>
    <link rel="stylesheet" href="styles.css?v=1585903823">

    <script src="https://www.gstatic.com/firebasejs/4.2.0/firebase.js"></script>
    <script src="scripts/quran_lights.min.js?v=1585903823"></script>

    <meta property="og:image" content="http://quran-lights.firebaseapp.com/images/app_icon.png" />
    <meta property="og:image:secure_url" content="https://quran-lights.firebaseapp.com/images/app_icon.png" /> 
    <meta property="og:image:type" content="image/png" /> 
    <meta charset=utf-8 />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="keywords"
        content="Allah,islam,mohammad,religion,quran,recite, visualize, charts, timer, memorize, muslim, moslim, ramadan,الاسلام , القرآن, الله, محمد " />
    <title>Email/Password Authentication Example</title>

    <!-- Material Design Theming -->
    <link rel="stylesheet" href="https://code.getmdl.io/1.1.3/material.orange-indigo.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <script defer src="https://code.getmdl.io/1.1.3/material.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/animate.css/3.2.0/animate.min.css">
    <link rel="stylesheet" href="main.css">

    <script src="https://code.highcharts.com/8.0.0/highcharts.js"></script>
    <script src="https://code.highcharts.com/8.0.0/highcharts-more.js"></script>
    <script src="https://code.highcharts.com/8.0.0/modules/solid-gauge.js"></script>
    <script src="https://code.highcharts.com/8.0.0/modules/exporting.js"></script>
    <script src="https://code.highcharts.com/8.0.0/modules/data.js"></script>
    <script src="https://code.highcharts.com/8.0.0/modules/drilldown.js"></script>
    <script src="https://code.highcharts.com/8.0.0/modules/heatmap.js"></script>
    <script src="https://code.highcharts.com/8.0.0/modules/treemap.js"></script>
    <script src="https://code.highcharts.com/8.0.0/modules/export-data.js"></script>
    <script src="https://code.highcharts.com/8.0.0/modules/accessibility.js"></script>
    <script src="https://code.highcharts.com/8.0.0/themes/dark-unica.js"></script>
</head>

<body background="images/background.jpg">
    <div id="fb-root"></div>
    <script async defer crossorigin="anonymous"
        src="https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v6.0&appId=546100602990294&autoLogAppEvents=1">
    </script>

    <div class="text">
        <h1 align="center">Quran Lights</h1>
        <h3 align="center">
            Visualize and boost your Quran Engagement
            <br><br>
        </h3>
        <div align="center">
            <div align="center" style="background-color: rgba(255,255,255,0.4); width: 280px">

                <a style="margin: 10px;" target="_blank" href="https://github.com/Amr1977/quran_lights_web">
                    <svg aria-hidden="true" class="octicon octicon-mark-github" height="32" version="1.1"
                        viewBox="0 0 16 16" width="32">
                        <path fill-rule="evenodd"
                            d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z">
                        </path>
                    </svg>
                </a>
                <a align="center" style="margin: 10px;" target="_blank"
                    href="https://itunes.apple.com/us/app/quran-lights/id1218872513?mt=8"><img
                        src="images/Download_on_the_App_Store_Badge_US-UK_135x40.svg" /></a>
                <a align="center" style="margin: 10px;" target="_blank"
                    href="https://www.facebook.com/QuranicLights/"><img src="images/fb.png" width="40px;"
                        height="40px;" /></a>
            </div>
        </div>
        <br>
        <iframe id="ayat" src="https://quran.ksu.edu.sa/index.php?l=en">
        </iframe>
        <br>
        
        <button class="collapsible">How it works
            <svg focusable="false" height="24px" viewBox="0 0 24 24" width="24px" xmlns="http://www.w3.org/2000/svg"><path d="M7 10l5 5 5-5z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg>
        </button>
        <h4 class="fulljustify">After you read any chapter of Quran remember to <strong>double
                click</strong> its cell here, the cell will take its maximum
            light, cell light will decay with time until you refresh it again, your history is cloud-stored and charts
            are updated accordingly,
            your history is accessible either from this web app or from <a
                href="https://itunes.apple.com/us/app/quran-lights/id1218872513?mt=8">Quran Lights iOS App</a>, also you
            have a daily score and total score, score of any chapter
            equals number of characters in this chapter, this should motivate you to maintain Quran
            chapters and keep them fresh in your memory by preventing darkness from invading your green shiny cells :)
            <br>
            <br>
            Actions on cells: <br>
            Click: Toggle Sura Selection (Sura Score Calculator)<br>
            Double Click: Refresh Sura.<br>
            <!-- Shift + Click: Open Chapter in another tab. <br> -->
            Alt + Click: Toggle Sura Memorization mark ON/OFF<br>
            <br>
            Keyboard shortcuts:<br>
            Ordering Quran Chapters:<br>
            Ctrl + L : Cell <strong>L</strong>ight<br>
            Ctrl + N : <strong>N</strong>ormal Order <br>
            Ctrl + C : <strong>C</strong>haracter Count<br>
            Ctrl + V : <strong>V</strong>erse Count<br>
            Ctrl + W : <strong>W</strong>ord Count<br>
            Ctrl + R : <strong>R</strong>evalation order<br>
            Ctrl + F : Re<strong>f</strong>resh Count<br>
            <br>
            Ctrl + D: Deselect cells.
        </h4>
    </div>
    <main>

        <!--class="mdl-layout__content mdl-color--grey-100"-->
        <div class="mdl-cell mdl-cell--12-col mdl-cell--12-col-tablet mdl-grid">

            <!-- Container for the demo -->
            <div
                class="mdl-card mdl-shadow--2dp mdl-cell mdl-cell--12-col mdl-cell--12-col-tablet mdl-cell--12-col-desktop">
                <div style="margin: 5px;">
                    <iframe id="prayers" src="about:blank"></iframe>
                    <span>
                        <input class="mdl-textfield__input" style="display:inline;width:auto; margin: 10px;" type="text"
                            id="email" name="email" placeholder="Email" />
                    </span>
                    <span>
                        <input class="mdl-textfield__input" style="display:inline;width:auto;margin: 10px;"
                            type="password" id="password" name="password" placeholder="Password" />
                    </span>
                    <span>
                        <button style="margin: 10px;" class="mdl-button mdl-js-button mdl-button--raised"
                            id="quickstart-sign-in" name="signin">Sign In</button>
                    </span>

                    <span>
                        <button style="margin: 10px;" class="mdl-button mdl-js-button mdl-button--raised"
                            id="quickstart-sign-up" name="signup">Sign Up(free)</button>
                    </span>

                    <span>
                        <button style="margin: 10px;" class="mdl-button mdl-js-button mdl-button--raised"
                            id="sign-in-with-google" name="signingoogle">Sign In with Google</button>
                    </span>

                    <!--span>
                        <button  style="margin: 10px; display: none;" class="mdl-button mdl-js-button mdl-button--raised" id="sign-in-with-facebook" name="signinfacebook">Sign In with Facebook</button>
                    </span>

                    <span>
                        <button  style="margin: 10px; display: none;" class="mdl-button mdl-js-button mdl-button--raised" id="sign-in-with-twitter" name="signintwitter">Sign In with Twitter</button>
                    </span-->
                    <!--button style="margin: 10px;" class="mdl-button mdl-js-button mdl-button--raised" disabled id="quickstart-verify-email" name="verify-email">Send Email Verification</button-->
                    <button 
                    id="quickstart-password-reset" 
                    style="margin: 10px;" 
                    class="mdl-button mdl-js-button mdl-button--raised" 
                    name="verify-email"
                    onclick="sendPasswordReset()"
                    >Send Password Reset Email</button>

                    

                    <div id="daily-score-container" style="margin: 10px; font-weight: 800; color: green;" align="left">
                        <div id="sort_order_container">
                            <div class="score" >Order Chapters by: </div>
    
                            <div>
                                <select id="sort_order" onchange="set_sort_order()" style="margin: 10px;">
                                    <option value="normal">Normal Order</option>
                                    <option value="revelation_order">Revelation Order</option>
                                    <option value="light">Cell Light</option>
                                    <option value="chars_count">Character Count</option>
                                    <option value="verse_count">Verse Count</option>
                                    <option value="word_count">Word Count</option>
                                    <option value="refresh_count">Refresh Count</option>
                                </select>
                            </div>
                        </div>
                        <br>
                        <div id="light_days_container">
                            <div class="score">Light Days: </div>
                            <div>
                                <select id="light_days" onchange="set_light_days()" style="margin: 10px;">
                                </select>
                            </div>
                        </div>
                        <br>
                        <span id="score" class="score">
                            --
                        </span>
                        
                        <span id="today_review_score" class="score">

                        </span>
                        <span id="today_read_score" class="score">

                        </span>
                        <span id="selected_total">
                        </span>
                        <br>
                        <div id="download" style="margin: 10px;">
                            <button class="mdl-button mdl-js-button mdl-button--raised" onclick='exportJSON();'>Export
                                Refresh History</button>
                        </div>
                        <div style="margin: 10px;">
                            <button id="import" class="mdl-button mdl-js-button mdl-button--raised"
                                onclick="importJSON();">Import Refresh History</button>
                            <input type="file" id="selectFiles" value="Import" />
                        </div>
                        <br>
                        <div>
                            <button id="deselect_button" onclick="deselectAll();" style="margin: 10px" float="right"
                                class="mdl-button mdl-js-button mdl-button--raised">Deselect All
                            </button>
                        </div>
                        <div id="today_score" class="score" float="right"></div> 
                        <div id="reviews" class="wrapper" style="margin: 5px;"></div>
                    </div>
                </div>
            </div>
        </div>
    </main>
    </div>

    <h4 class="text">Lights Treemap</h4>
    <div id="treemap-chart" style="height: 1000px; margin: 20px"></div>

    <h4 class="text">Quran Radar: Elapsed days per Surah since last refresh</h4>
    <div id="radar-chart" style="height: 800px; margin: 20px"></div>

    <h4 class="text">Review Werd: Reviewed_Today / ((SUM(Memorized) / Light_Days)</h4>
    <div id="review_score_guage" style="height: 100%; margin: 20px"></div>

    <h4 class="text">Read Werd: Read_Today / ((SUM(Non_Memorized) / Light_Days)  </h4>
    <div id="daily-read-guage" style="height: 100%; margin: 20px"></div>

    <h4 class="text">Memorization Progress</h4>
    <div id="memorization-chart" style="height: 500px; margin: 20px"></div>

    <h4 class="text">Light Ratio: sum of light percentage of all cells</h4>
    <div id="light-ratio-chart-container" style="height: 100%; margin: 20px"></div>

    <h4 class="text">Lighting Cells Ratio: Percentage of cells not not older than Light days</h4>
    <div id="conquer-ratio-chart-container" style="height: 100%; margin: 20px"></div>

    <h4 class="text">Khatma Progress</h4>
    <div id="khatma-progress-chart" style="height: 100%; margin: 20px"></div>

    <h4 class="text">Daily Revenue</h4>
    <div id="daily-score-chart" style="height: 400px; margin: 20px"></div>

    <h4 class="text">Monthlty Revenue</h4>
    <div id="monthly-score-chart" style="height: 400px; margin: 20px"></div>

    <h4 class="text">Yearly Revenue</h4>
    <div id="yearly-score-chart" style="height: 400px; margin: 20px"></div>

    <h4 class="text">Light days per month: days with non-zero balance</h4>
    <div id="light_days_chart" style="height: 400px; margin: 20px"></div>

    <h4 class="text">Dark days per month: days with zero balance</h4>
    <div id="dark_days_chart" style="height: 400px; margin: 20px"></div>

    <div id="snackbar"></div>
    <div id="share-buttons" style="width: 100%; margin: 20px;">

        <!-- Buffer -->
        <a href="https://bufferapp.com/add?url=https://quran-lights.firebaseapp.com&amp;text=Quran Lights"
            target="_blank">
            <img src="images/buffer.png" alt="Buffer" />
        </a>

        <!-- Digg -->
        <a href="http://www.digg.com/submit?url=https://simplesharebuttons.com" target="_blank">
            <img src="images/diggit.png" alt="Digg" />
        </a>

        <!-- Email -->
        <a href="mailto:?Subject=Quran Lights&amp;Body=https://quran-lights.firebaseapp.com">
            <img src="images/email.png" alt="Email" />
        </a>

        <!-- Facebook -->
        <a href="http://www.facebook.com/sharer.php?u=https://quran-lights.firebaseapp.com" target="_blank">
            <img src="images/facebook.png" alt="Facebook" />
        </a>

        <!-- Google+ -->
        <a href="https://plus.google.com/share?url=https://quran-lights.firebaseapp.com&amp;text=Quran Lights"
            target="_blank">
            <img src="images/google.png" alt="Google" />
        </a>

        <!-- LinkedIn -->
        <a href="http://www.linkedin.com/shareArticle?mini=true&amp;url=https://quran-lights.firebaseapp.com&amp;text=Quran Lights"
            target="_blank">
            <img src="images/linkedin.png" alt="LinkedIn" />
        </a>

        <!-- Pinterest -->
        <a
            href="javascript:void((function()%7Bvar%20e=document.createElement('script');e.setAttribute('type','text/javascript');e.setAttribute('charset','UTF-8');e.setAttribute('src','http://assets.pinterest.com/js/pinmarklet.js?r='+Math.random()*99999999);document.body.appendChild(e)%7D)());">
            <img src="images/pinterest.png" alt="Pinterest" />
        </a>

        <!-- Print -->
        <a href="javascript:;" onclick="window.print()">
            <img src="images/print.png" alt="Print" />
        </a>

        <!-- Reddit -->
        <a href="http://reddit.com/submit?url=https://quran-lights.firebaseapp.com&amp;title=Quran Lights"
            target="_blank">
            <img src="images/reddit.png" alt="Reddit" />
        </a>

        <!-- StumbleUpon-->
        <a href="http://www.stumbleupon.com/submit?url=https://quran-lights.firebaseapp.com&amp;title=Quran Lights"
            target="_blank">
            <img src="images/stumbleupon.png" alt="StumbleUpon" />
        </a>

        <!-- Tumblr-->
        <a href="http://www.tumblr.com/share/link?url=https://quran-lights.firebaseapp.com&amp;title=Quran Lights"
            target="_blank">
            <img src="images/tumblr.png" alt="Tumblr" />
        </a>

        <!-- Twitter -->
        <a href="https://twitter.com/share?url=https://quran-lights.firebaseapp.com&amp;text=Quran Lights&amp;hashtags=quranlights"
            target="_blank">
            <img src="images/twitter.png" alt="Twitter" />
        </a>

        <!-- VK -->
        <a href="http://vkontakte.ru/share.php?url=https://quran-lights.firebaseapp.com" target="_blank">
            <img src="images/vk.png" alt="VK" />
        </a>

        <!-- Yummly -->
        <a href="http://www.yummly.com/urb/verify?url=https://quran-lights.firebaseapp.com&amp;title=Quran Lights"
            target="_blank">
            <img src="images/yummly.png" alt="Yummly" />
        </a>
    </div>

    <div style="background-color: blanchedalmond; width: 100%;">
        <div class="fb-like" 
        data-href="https://quran-lights.firebaseapp.com" 
        data-width="" data-layout="standard"
            data-action="like" 
            data-size="small" 
            data-share="true"></div>
    </div>
    <!--div class="fb-comments" data-href="https://quran-lights.firebaseapp.com" data-width="100%" data-numposts="7"></div-->
    
    <div class="text">V0.1585903823</div>
</body>
</html>
